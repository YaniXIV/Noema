OpenAI Codex v0.98.0 (research preview)
--------
workdir: /Users/yani/Noema/backend
model: gpt-5.2-codex
provider: openai
approval: never
sandbox: workspace-write [workdir, /tmp, $TMPDIR]
reasoning effort: none
reasoning summaries: auto
session id: 019c3ed7-bb4d-70d0-84c2-f0dc394bb4f3
--------
user
You are an autonomous coding agent polishing the Noema repository.

Hard rules:
- DO NOT run git commit, git reset, git clean, or anything that modifies git history.
- I will run git commits outside of you.
- Keep changes small: max 3 files per iteration.
- No cosmetic-only edits.
- No new dependencies unless absolutely necessary.
- keep all the same ui functionality, the end user should be able to do the same stuff but the experiance and design should be better.

Goal: continuously improve production quality. continuously improve front end quality and polish.

Iteration:
1) Run: cd backend && go test ./...
2) If failing: fix the smallest root cause (max 3 files), rerun tests until passing.
3) If passing: make ONE meaningful improvement (max 3 files), then rerun tests until passing.

Pick the highest-value improvement:
A) Reliability/correctness: validation, error handling, run persistence, verify robustness
B) Tests: add/strengthen tests for the change you made
C) upgrading the user interface so that it looks better.
D) Maintainability: reduce duplication with tiny refactors
E) UX: wizard/results/verify clarity (small, safe changes)
F) Docs: README/DEPLOYMENT polish
G) Performance: safe wins only

Finish with:
- What you changed (short)
- Tests run (must include go test ./...)
mcp startup: no servers

thinking
**Running tests without web**
exec
/bin/zsh -lc 'cd /Users/yani/Noema/backend && go test ./...' in /Users/yani/Noema/backend succeeded in 207ms:
?   	noema/cmd/server	[no test files]
?   	noema/internal/auth	[no test files]
ok  	noema/internal/config	(cached)
?   	noema/internal/crypto	[no test files]
ok  	noema/internal/evaluate	(cached)
?   	noema/internal/gemini	[no test files]
ok  	noema/internal/httputil	(cached)
ok  	noema/internal/session	(cached)
ok  	noema/internal/verify	(cached)
?   	noema/internal/web	[no test files]
ok  	noema/internal/zk	(cached)

thinking
**Listing files for inspection**
exec
/bin/zsh -lc 'cd /Users/yani/Noema/backend && ls' in /Users/yani/Noema/backend succeeded in 51ms:
cmd
data
go.mod
go.sum
internal
main
web

thinking
**Planning UI inspection**

I'm preparing to inspect the web UI to identify areas for improvement.
exec
/bin/zsh -lc 'cd /Users/yani/Noema/backend && ls web' in /Users/yani/Noema/backend succeeded in 52ms:
static
templates

thinking
**Checking templates**
exec
/bin/zsh -lc 'cd /Users/yani/Noema/backend && ls web/templates' in /Users/yani/Noema/backend succeeded in 52ms:
app.html
app_new.html
app_results.html
index.html
partial_header_app.html
partial_header_public.html
partial_header_upload.html
partial_orb.html
upload.html
verify.html
verify_results.html

thinking
**Planning UI polish**

I'm preparing to inspect CSS files in the web/static directory to identify a small, focused UI improvement to work on next.
exec
/bin/zsh -lc 'cd /Users/yani/Noema/backend && ls web/static' in /Users/yani/Noema/backend succeeded in 52ms:
app.js
constraints.js
results.js
styles.css
upload.js
verify.js
wizard.js

thinking
**Planning style improvements**

I'm focusing on enhancing the results cards by inspecting styles.css for meaningful style updates.
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '1,200p' web/static/styles.css" in /Users/yani/Noema/backend succeeded in 52ms:
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&family=Space+Grotesk:wght@400;500;600&display=swap');

:root {
  --bg: #05060a;
  --bg-card: rgba(9, 12, 18, 0.9);
  --text: #f4f6fb;
  --text-muted: #9aa3b2;
  --accent: #45d4ff;
  --accent-strong: #2c7bff;
  --accent-glow: rgba(69, 212, 255, 0.35);
  --border: rgba(255, 255, 255, 0.08);
  --border-strong: rgba(69, 212, 255, 0.4);
  --error: #f87171;
  --success: #22c55e;
  --warning: #fbbf24;
  --shadow: 0 24px 48px rgba(0, 0, 0, 0.45);
}

*,
*::before,

thinking
**Planning targeted CSS improvements**

I’m focusing on the results UI, especially the app_results.html template, to improve readability with CSS changes while preserving functionality and adding potential structured summaries.
exec
/bin/zsh -lc 'cd /Users/yani/Noema/backend && rg -n "results" -n web/static/styles.css' in /Users/yani/Noema/backend succeeded in 52ms:
54:.results-pre {
145:.main:not(.main-dashboard):not(.main-wizard):not(.main-results) .card {
856:.main-results {
861:.results-card {
865:.results-header {
873:.results-actions {
879:.results-summary {
892:.results-runline {
899:.results-run-id {
909:.results-status {
918:.results-status-pass {
924:.results-status-fail {
930:.results-status-unknown {
936:.results-summary-meta {
941:.results-section {
947:.results-section-header {
955:.results-section-title {
960:.results-section-actions {
966:.results-constraints-list {
973:.results-constraint-card {
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '820,1045p' web/static/styles.css" in /Users/yani/Noema/backend succeeded in 51ms:
  margin-top: 1rem;
}

.review-summary {
  display: grid;
  gap: 0.75rem;
  padding: 1.1rem 1.2rem;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: rgba(0, 0, 0, 0.3);
  margin-bottom: 1rem;
}

.review-item {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 1rem;
  font-size: 0.95rem;
}
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '1045,1160p' web/static/styles.css" in /Users/yani/Noema/backend succeeded in 52ms:
  margin-top: 0.35rem;
  font-size: 0.82rem;
  color: var(--text-muted);
}

.results-proof-meta {
  margin-top: 0.75rem;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.results-pre {
  margin-top: 0.9rem;
  padding: 1rem;
  background: rgba(0, 0, 0, 0.45);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02);
  max-height: 320px;
  overflow: auto;

thinking
**Exploring results layout for functional UX improvements**

I'm considering enhancements to the verify/results layout focusing on meaningful UX improvements like adding a sticky summary or better empty state messages while maintaining current UI functionality. Next, I'll check the templates for the results page structure to identify feasible enhancements.
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '1,220p' web/templates/app_results.html" in /Users/yani/Noema/backend succeeded in 51ms:
{{define "app_results"}}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Noema — Results</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body data-run-id="{{.RunID}}">
  {{template "header_app" .}}

  <main class="main main-results">
    {{template "orb" .}}
    <div class="card results-card">
      <div class="results-header">
        <div>
          <h1 class="card-title">Evaluation results</h1>
          <div class="results-runline">
            <p class="text-muted" id="results-run-id">Run ID: <span class="results-run-id">{{.RunID}}</span></p>

thinking
**Planning UI improvements**

Considering adding jump links or a sticky action bar for large results without new dependencies, and possibly an "empty constraints" message by reviewing results.js.
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '1,260p' web/static/results.js" in /Users/yani/Noema/backend succeeded in 52ms:
(function() {
  var runId = document.body.getAttribute('data-run-id') || document.getElementById('results-run-id').textContent.replace('Run ID: ', '').trim();
  var key = 'noema_run_' + runId;
  var data;
  try {
    var raw = localStorage.getItem(key);
    data = raw ? JSON.parse(raw) : null;
  } catch (e) {
    data = null;
  }

  function copyText(text, button) {
    if (!text) return;
    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(text).then(function() {
        if (button) showCopied(button);
      });
    } else {
      var temp = document.createElement('textarea');
      temp.value = text;


thinking
**Planning conditional results display**

I'm preparing to improve UX by hiding output or proof sections when empty, showing clear empty-state messages using existing styles, and updating results.js and CSS within the three-file limit.
thinking
**Planning empty-state placeholders in results sections**

I'm refining UX to show consistent empty-state messages with existing CSS in public output and proof sections when data is absent, disabling related copy buttons, and replacing plain text placeholders for constraints—all via updates to results.js without adding new CSS.
file update
M /Users/yani/Noema/backend/web/static/results.js
@@ -44,3 +44,7 @@
     if (!list || !list.length) {
-      container.innerHTML = '<div class="text-muted">No per-constraint summary available.</div>';
+      container.innerHTML =
+        '<div class="empty-state">' +
+          '<div class="empty-state-title">No constraint summary</div>' +
+          '<p class="empty-state-text">This run did not include per-constraint results.</p>' +
+        '</div>';
       return;
@@ -116,8 +120,21 @@
 
+  var publicPre = document.getElementById('results-public-output-json');
+  var publicSection = document.getElementById('results-public-output');
   if (data.public_output) {
-    document.getElementById('results-public-output-json').textContent = JSON.stringify(data.public_output, null, 2);
+    if (publicPre) publicPre.textContent = JSON.stringify(data.public_output, null, 2);
+  } else if (publicSection) {
+    if (publicPre) publicPre.style.display = 'none';
+    var publicEmpty = document.createElement('div');
+    publicEmpty.className = 'empty-state';
+    publicEmpty.innerHTML =
+      '<div class="empty-state-title">No public output stored</div>' +
+      '<p class="empty-state-text">This run did not save a public output payload.</p>';
+    publicSection.appendChild(publicEmpty);
   }
 
+  var proofSection = document.getElementById('results-proof');
+  var proofPre = document.getElementById('results-proof-json');
+  var proofMetaEl = document.getElementById('results-proof-meta');
   if (data.proof) {
-    document.getElementById('results-proof-json').textContent = JSON.stringify(data.proof, null, 2);
+    if (proofPre) proofPre.textContent = JSON.stringify(data.proof, null, 2);
     var proofMeta = [];
@@ -125,3 +142,12 @@
     if (data.proof.curve) proofMeta.push('Curve: ' + data.proof.curve);
-    document.getElementById('results-proof-meta').textContent = proofMeta.join(' · ');
+    if (proofMetaEl) proofMetaEl.textContent = proofMeta.join(' · ');
+  } else if (proofSection) {
+    if (proofPre) proofPre.style.display = 'none';
+    if (proofMetaEl) proofMetaEl.textContent = '';
+    var proofEmpty = document.createElement('div');
+    proofEmpty.className = 'empty-state';
+    proofEmpty.innerHTML =
+      '<div class="empty-state-title">No proof stored</div>' +
+      '<p class="empty-state-text">This run does not have a proof available for download.</p>';
+    proofSection.appendChild(proofEmpty);
   }
@@ -133,5 +159,10 @@
   if (copyPublic) {
-    copyPublic.addEventListener('click', function() {
-      copyText(JSON.stringify(data.public_output || {}, null, 2), copyPublic);
-    });
+    if (!data.public_output) {
+      copyPublic.textContent = 'No output';
+      copyPublic.disabled = true;
+    } else {
+      copyPublic.addEventListener('click', function() {
+        copyText(JSON.stringify(data.public_output || {}, null, 2), copyPublic);
+      });
+    }
   }
@@ -147,5 +178,10 @@
   if (copyProof) {
-    copyProof.addEventListener('click', function() {
-      copyText(JSON.stringify(data.proof || {}, null, 2), copyProof);
-    });
+    if (!data.proof) {
+      copyProof.textContent = 'No proof';
+      copyProof.disabled = true;
+    } else {
+      copyProof.addEventListener('click', function() {
+        copyText(JSON.stringify(data.proof || {}, null, 2), copyProof);
+      });
+    }
   }
@@ -154,6 +190,11 @@
   if (copyInputs) {
-    copyInputs.addEventListener('click', function() {
-      var inputs = (data.proof && (data.proof.public_inputs_b64 || data.proof.public_inputs)) || (data.public_output && data.public_output.public_inputs) || '';
-      copyText(typeof inputs === 'string' ? inputs : JSON.stringify(inputs, null, 2), copyInputs);
-    });
+    var inputs = (data.proof && (data.proof.public_inputs_b64 || data.proof.public_inputs)) || (data.public_output && data.public_output.public_inputs) || '';
+    if (!inputs) {
+      copyInputs.textContent = 'No inputs';
+      copyInputs.disabled = true;
+    } else {
+      copyInputs.addEventListener('click', function() {
+        copyText(typeof inputs === 'string' ? inputs : JSON.stringify(inputs, null, 2), copyInputs);
+      });
+    }
   }
apply_patch(auto_approved=true) exited 0 in 31ms:
Success. Updated the following files:
M /Users/yani/Noema/backend/web/static/results.js
file update:
diff --git a/backend/web/static/results.js b/backend/web/static/results.js
index 587a089927ed973144323f29e5ead2bc9003a9f3..df3637250224dbec92b94428e4f3d90747cc4f0b
--- a/backend/web/static/results.js
+++ b/backend/web/static/results.js
@@ -42,7 +42,11 @@
     container.innerHTML = '';
 
     if (!list || !list.length) {
-      container.innerHTML = '<div class="text-muted">No per-constraint summary available.</div>';
+      container.innerHTML =
+        '<div class="empty-state">' +
+          '<div class="empty-state-title">No constraint summary</div>' +
+          '<p class="empty-state-text">This run did not include per-constraint results.</p>' +
+        '</div>';
       return;
     }
 
@@ -114,16 +118,38 @@
   if (data.verified !== undefined) metaText.push('Verified: ' + (data.verified ? 'Yes' : 'No'));
   metaEl.textContent = metaText.join(' · ');
 
+  var publicPre = document.getElementById('results-public-output-json');
+  var publicSection = document.getElementById('results-public-output');
   if (data.public_output) {
-    document.getElementById('results-public-output-json').textContent = JSON.stringify(data.public_output, null, 2);
+    if (publicPre) publicPre.textContent = JSON.stringify(data.public_output, null, 2);
+  } else if (publicSection) {
+    if (publicPre) publicPre.style.display = 'none';
+    var publicEmpty = document.createElement('div');
+    publicEmpty.className = 'empty-state';
+    publicEmpty.innerHTML =
+      '<div class="empty-state-title">No public output stored</div>' +
+      '<p class="empty-state-text">This run did not save a public output payload.</p>';
+    publicSection.appendChild(publicEmpty);
   }
 
+  var proofSection = document.getElementById('results-proof');
+  var proofPre = document.getElementById('results-proof-json');
+  var proofMetaEl = document.getElementById('results-proof-meta');
   if (data.proof) {
-    document.getElementById('results-proof-json').textContent = JSON.stringify(data.proof, null, 2);
+    if (proofPre) proofPre.textContent = JSON.stringify(data.proof, null, 2);
     var proofMeta = [];
     if (data.proof.system) proofMeta.push('System: ' + data.proof.system);
     if (data.proof.curve) proofMeta.push('Curve: ' + data.proof.curve);
-    document.getElementById('results-proof-meta').textContent = proofMeta.join(' · ');
+    if (proofMetaEl) proofMetaEl.textContent = proofMeta.join(' · ');
+  } else if (proofSection) {
+    if (proofPre) proofPre.style.display = 'none';
+    if (proofMetaEl) proofMetaEl.textContent = '';
+    var proofEmpty = document.createElement('div');
+    proofEmpty.className = 'empty-state';
+    proofEmpty.innerHTML =
+      '<div class="empty-state-title">No proof stored</div>' +
+      '<p class="empty-state-text">This run does not have a proof available for download.</p>';
+    proofSection.appendChild(proofEmpty);
   }
 
   var constraints = data.constraint_results || data.constraints || data.per_constraint || [];
@@ -131,9 +157,14 @@
 
   var copyPublic = document.getElementById('copy-public-output');
   if (copyPublic) {
-    copyPublic.addEventListener('click', function() {
-      copyText(JSON.stringify(data.public_output || {}, null, 2), copyPublic);
-    });
+    if (!data.public_output) {
+      copyPublic.textContent = 'No output';
+      copyPublic.disabled = true;
+    } else {
+      copyPublic.addEventListener('click', function() {
+        copyText(JSON.stringify(data.public_output || {}, null, 2), copyPublic);
+      });
+    }
   }
 
   var copyRunId = document.getElementById('copy-run-id');
@@ -145,16 +176,26 @@
 
   var copyProof = document.getElementById('copy-proof');
   if (copyProof) {
-    copyProof.addEventListener('click', function() {
-      copyText(JSON.stringify(data.proof || {}, null, 2), copyProof);
-    });
+    if (!data.proof) {
+      copyProof.textContent = 'No proof';
+      copyProof.disabled = true;
+    } else {
+      copyProof.addEventListener('click', function() {
+        copyText(JSON.stringify(data.proof || {}, null, 2), copyProof);
+      });
+    }
   }
 
   var copyInputs = document.getElementById('copy-public-inputs');
   if (copyInputs) {
-    copyInputs.addEventListener('click', function() {
-      var inputs = (data.proof && (data.proof.public_inputs_b64 || data.proof.public_inputs)) || (data.public_output && data.public_output.public_inputs) || '';
-      copyText(typeof inputs === 'string' ? inputs : JSON.stringify(inputs, null, 2), copyInputs);
-    });
+    var inputs = (data.proof && (data.proof.public_inputs_b64 || data.proof.public_inputs)) || (data.public_output && data.public_output.public_inputs) || '';
+    if (!inputs) {
+      copyInputs.textContent = 'No inputs';
+      copyInputs.disabled = true;
+    } else {
+      copyInputs.addEventListener('click', function() {
+        copyText(typeof inputs === 'string' ? inputs : JSON.stringify(inputs, null, 2), copyInputs);
+      });
+    }
   }
 })();

file update:
diff --git a/backend/web/static/results.js b/backend/web/static/results.js
index 587a089927ed973144323f29e5ead2bc9003a9f3..df3637250224dbec92b94428e4f3d90747cc4f0b
--- a/backend/web/static/results.js
+++ b/backend/web/static/results.js
@@ -42,7 +42,11 @@
     container.innerHTML = '';
 
     if (!list || !list.length) {
-      container.innerHTML = '<div class="text-muted">No per-constraint summary available.</div>';
+      container.innerHTML =
+        '<div class="empty-state">' +
+          '<div class="empty-state-title">No constraint summary</div>' +
+          '<p class="empty-state-text">This run did not include per-constraint results.</p>' +
+        '</div>';
       return;
     }
 
@@ -114,16 +118,38 @@
   if (data.verified !== undefined) metaText.push('Verified: ' + (data.verified ? 'Yes' : 'No'));
   metaEl.textContent = metaText.join(' · ');
 
+  var publicPre = document.getElementById('results-public-output-json');
+  var publicSection = document.getElementById('results-public-output');
   if (data.public_output) {
-    document.getElementById('results-public-output-json').textContent = JSON.stringify(data.public_output, null, 2);
+    if (publicPre) publicPre.textContent = JSON.stringify(data.public_output, null, 2);
+  } else if (publicSection) {
+    if (publicPre) publicPre.style.display = 'none';
+    var publicEmpty = document.createElement('div');
+    publicEmpty.className = 'empty-state';
+    publicEmpty.innerHTML =
+      '<div class="empty-state-title">No public output stored</div>' +
+      '<p class="empty-state-text">This run did not save a public output payload.</p>';
+    publicSection.appendChild(publicEmpty);
   }
 
+  var proofSection = document.getElementById('results-proof');
+  var proofPre = document.getElementById('results-proof-json');
+  var proofMetaEl = document.getElementById('results-proof-meta');
   if (data.proof) {
-    document.getElementById('results-proof-json').textContent = JSON.stringify(data.proof, null, 2);
+    if (proofPre) proofPre.textContent = JSON.stringify(data.proof, null, 2);
     var proofMeta = [];
     if (data.proof.system) proofMeta.push('System: ' + data.proof.system);
     if (data.proof.curve) proofMeta.push('Curve: ' + data.proof.curve);
-    document.getElementById('results-proof-meta').textContent = proofMeta.join(' · ');
+    if (proofMetaEl) proofMetaEl.textContent = proofMeta.join(' · ');
+  } else if (proofSection) {
+    if (proofPre) proofPre.style.display = 'none';
+    if (proofMetaEl) proofMetaEl.textContent = '';
+    var proofEmpty = document.createElement('div');
+    proofEmpty.className = 'empty-state';
+    proofEmpty.innerHTML =
+      '<div class="empty-state-title">No proof stored</div>' +
+      '<p class="empty-state-text">This run does not have a proof available for download.</p>';
+    proofSection.appendChild(proofEmpty);
   }
 
   var constraints = data.constraint_results || data.constraints || data.per_constraint || [];
@@ -131,9 +157,14 @@
 
   var copyPublic = document.getElementById('copy-public-output');
   if (copyPublic) {
-    copyPublic.addEventListener('click', function() {
-      copyText(JSON.stringify(data.public_output || {}, null, 2), copyPublic);
-    });
+    if (!data.public_output) {
+      copyPublic.textContent = 'No output';
+      copyPublic.disabled = true;
+    } else {
+      copyPublic.addEventListener('click', function() {
+        copyText(JSON.stringify(data.public_output || {}, null, 2), copyPublic);
+      });
+    }
   }
 
   var copyRunId = document.getElementById('copy-run-id');
@@ -145,16 +176,26 @@
 
   var copyProof = document.getElementById('copy-proof');
   if (copyProof) {
-    copyProof.addEventListener('click', function() {
-      copyText(JSON.stringify(data.proof || {}, null, 2), copyProof);
-    });
+    if (!data.proof) {
+      copyProof.textContent = 'No proof';
+      copyProof.disabled = true;
+    } else {
+      copyProof.addEventListener('click', function() {
+        copyText(JSON.stringify(data.proof || {}, null, 2), copyProof);
+      });
+    }
   }
 
   var copyInputs = document.getElementById('copy-public-inputs');
   if (copyInputs) {
-    copyInputs.addEventListener('click', function() {
-      var inputs = (data.proof && (data.proof.public_inputs_b64 || data.proof.public_inputs)) || (data.public_output && data.public_output.public_inputs) || '';
-      copyText(typeof inputs === 'string' ? inputs : JSON.stringify(inputs, null, 2), copyInputs);
-    });
+    var inputs = (data.proof && (data.proof.public_inputs_b64 || data.proof.public_inputs)) || (data.public_output && data.public_output.public_inputs) || '';
+    if (!inputs) {
+      copyInputs.textContent = 'No inputs';
+      copyInputs.disabled = true;
+    } else {
+      copyInputs.addEventListener('click', function() {
+        copyText(typeof inputs === 'string' ? inputs : JSON.stringify(inputs, null, 2), copyInputs);
+      });
+    }
   }
 })();


thinking
**Rerunning Go tests**
exec
/bin/zsh -lc 'cd /Users/yani/Noema/backend && go test ./...' in /Users/yani/Noema/backend succeeded in 394ms:
?   	noema/cmd/server	[no test files]
?   	noema/internal/auth	[no test files]
ok  	noema/internal/config	(cached)
?   	noema/internal/crypto	[no test files]
ok  	noema/internal/evaluate	(cached)
?   	noema/internal/gemini	[no test files]
ok  	noema/internal/httputil	(cached)
ok  	noema/internal/session	(cached)
ok  	noema/internal/verify	(cached)
?   	noema/internal/web	[no test files]
ok  	noema/internal/zk	(cached)
file update:
diff --git a/backend/web/static/results.js b/backend/web/static/results.js
index 587a089927ed973144323f29e5ead2bc9003a9f3..df3637250224dbec92b94428e4f3d90747cc4f0b
--- a/backend/web/static/results.js
+++ b/backend/web/static/results.js
@@ -42,7 +42,11 @@
     container.innerHTML = '';
 
     if (!list || !list.length) {
-      container.innerHTML = '<div class="text-muted">No per-constraint summary available.</div>';
+      container.innerHTML =
+        '<div class="empty-state">' +
+          '<div class="empty-state-title">No constraint summary</div>' +
+          '<p class="empty-state-text">This run did not include per-constraint results.</p>' +
+        '</div>';
       return;
     }
 
@@ -114,16 +118,38 @@
   if (data.verified !== undefined) metaText.push('Verified: ' + (data.verified ? 'Yes' : 'No'));
   metaEl.textContent = metaText.join(' · ');
 
+  var publicPre = document.getElementById('results-public-output-json');
+  var publicSection = document.getElementById('results-public-output');
   if (data.public_output) {
-    document.getElementById('results-public-output-json').textContent = JSON.stringify(data.public_output, null, 2);
+    if (publicPre) publicPre.textContent = JSON.stringify(data.public_output, null, 2);
+  } else if (publicSection) {
+    if (publicPre) publicPre.style.display = 'none';
+    var publicEmpty = document.createElement('div');
+    publicEmpty.className = 'empty-state';
+    publicEmpty.innerHTML =
+      '<div class="empty-state-title">No public output stored</div>' +
+      '<p class="empty-state-text">This run did not save a public output payload.</p>';
+    publicSection.appendChild(publicEmpty);
   }
 
+  var proofSection = document.getElementById('results-proof');
+  var proofPre = document.getElementById('results-proof-json');
+  var proofMetaEl = document.getElementById('results-proof-meta');
   if (data.proof) {
-    document.getElementById('results-proof-json').textContent = JSON.stringify(data.proof, null, 2);
+    if (proofPre) proofPre.textContent = JSON.stringify(data.proof, null, 2);
     var proofMeta = [];
     if (data.proof.system) proofMeta.push('System: ' + data.proof.system);
     if (data.proof.curve) proofMeta.push('Curve: ' + data.proof.curve);
-    document.getElementById('results-proof-meta').textContent = proofMeta.join(' · ');
+    if (proofMetaEl) proofMetaEl.textContent = proofMeta.join(' · ');
+  } else if (proofSection) {
+    if (proofPre) proofPre.style.display = 'none';
+    if (proofMetaEl) proofMetaEl.textContent = '';
+    var proofEmpty = document.createElement('div');
+    proofEmpty.className = 'empty-state';
+    proofEmpty.innerHTML =
+      '<div class="empty-state-title">No proof stored</div>' +
+      '<p class="empty-state-text">This run does not have a proof available for download.</p>';
+    proofSection.appendChild(proofEmpty);
   }
 
   var constraints = data.constraint_results || data.constraints || data.per_constraint || [];
@@ -131,9 +157,14 @@
 
   var copyPublic = document.getElementById('copy-public-output');
   if (copyPublic) {
-    copyPublic.addEventListener('click', function() {
-      copyText(JSON.stringify(data.public_output || {}, null, 2), copyPublic);
-    });
+    if (!data.public_output) {
+      copyPublic.textContent = 'No output';
+      copyPublic.disabled = true;
+    } else {
+      copyPublic.addEventListener('click', function() {
+        copyText(JSON.stringify(data.public_output || {}, null, 2), copyPublic);
+      });
+    }
   }
 
   var copyRunId = document.getElementById('copy-run-id');
@@ -145,16 +176,26 @@
 
   var copyProof = document.getElementById('copy-proof');
   if (copyProof) {
-    copyProof.addEventListener('click', function() {
-      copyText(JSON.stringify(data.proof || {}, null, 2), copyProof);
-    });
+    if (!data.proof) {
+      copyProof.textContent = 'No proof';
+      copyProof.disabled = true;
+    } else {
+      copyProof.addEventListener('click', function() {
+        copyText(JSON.stringify(data.proof || {}, null, 2), copyProof);
+      });
+    }
   }
 
   var copyInputs = document.getElementById('copy-public-inputs');
   if (copyInputs) {
-    copyInputs.addEventListener('click', function() {
-      var inputs = (data.proof && (data.proof.public_inputs_b64 || data.proof.public_inputs)) || (data.public_output && data.public_output.public_inputs) || '';
-      copyText(typeof inputs === 'string' ? inputs : JSON.stringify(inputs, null, 2), copyInputs);
-    });
+    var inputs = (data.proof && (data.proof.public_inputs_b64 || data.proof.public_inputs)) || (data.public_output && data.public_output.public_inputs) || '';
+    if (!inputs) {
+      copyInputs.textContent = 'No inputs';
+      copyInputs.disabled = true;
+    } else {
+      copyInputs.addEventListener('click', function() {
+        copyText(typeof inputs === 'string' ? inputs : JSON.stringify(inputs, null, 2), copyInputs);
+      });
+    }
   }
 })();


thinking
**Finalizing summary and tests**
codex
What I changed (short)
- Improved results UX to handle missing public output/proof/inputs with clear empty states and disabled copy actions. Updated `web/static/results.js`.

Tests run
- `go test ./...`

If you want a follow-up, I can apply the same empty-state treatment to the public verify results page for consistency.
file update:
diff --git a/backend/web/static/results.js b/backend/web/static/results.js
index 587a089927ed973144323f29e5ead2bc9003a9f3..df3637250224dbec92b94428e4f3d90747cc4f0b
--- a/backend/web/static/results.js
+++ b/backend/web/static/results.js
@@ -42,7 +42,11 @@
     container.innerHTML = '';
 
     if (!list || !list.length) {
-      container.innerHTML = '<div class="text-muted">No per-constraint summary available.</div>';
+      container.innerHTML =
+        '<div class="empty-state">' +
+          '<div class="empty-state-title">No constraint summary</div>' +
+          '<p class="empty-state-text">This run did not include per-constraint results.</p>' +
+        '</div>';
       return;
     }
 
@@ -114,16 +118,38 @@
   if (data.verified !== undefined) metaText.push('Verified: ' + (data.verified ? 'Yes' : 'No'));
   metaEl.textContent = metaText.join(' · ');
 
+  var publicPre = document.getElementById('results-public-output-json');
+  var publicSection = document.getElementById('results-public-output');
   if (data.public_output) {
-    document.getElementById('results-public-output-json').textContent = JSON.stringify(data.public_output, null, 2);
+    if (publicPre) publicPre.textContent = JSON.stringify(data.public_output, null, 2);
+  } else if (publicSection) {
+    if (publicPre) publicPre.style.display = 'none';
+    var publicEmpty = document.createElement('div');
+    publicEmpty.className = 'empty-state';
+    publicEmpty.innerHTML =
+      '<div class="empty-state-title">No public output stored</div>' +
+      '<p class="empty-state-text">This run did not save a public output payload.</p>';
+    publicSection.appendChild(publicEmpty);
   }
 
+  var proofSection = document.getElementById('results-proof');
+  var proofPre = document.getElementById('results-proof-json');
+  var proofMetaEl = document.getElementById('results-proof-meta');
   if (data.proof) {
-    document.getElementById('results-proof-json').textContent = JSON.stringify(data.proof, null, 2);
+    if (proofPre) proofPre.textContent = JSON.stringify(data.proof, null, 2);
     var proofMeta = [];
     if (data.proof.system) proofMeta.push('System: ' + data.proof.system);
     if (data.proof.curve) proofMeta.push('Curve: ' + data.proof.curve);
-    document.getElementById('results-proof-meta').textContent = proofMeta.join(' · ');
+    if (proofMetaEl) proofMetaEl.textContent = proofMeta.join(' · ');
+  } else if (proofSection) {
+    if (proofPre) proofPre.style.display = 'none';
+    if (proofMetaEl) proofMetaEl.textContent = '';
+    var proofEmpty = document.createElement('div');
+    proofEmpty.className = 'empty-state';
+    proofEmpty.innerHTML =
+      '<div class="empty-state-title">No proof stored</div>' +
+      '<p class="empty-state-text">This run does not have a proof available for download.</p>';
+    proofSection.appendChild(proofEmpty);
   }
 
   var constraints = data.constraint_results || data.constraints || data.per_constraint || [];
@@ -131,9 +157,14 @@
 
   var copyPublic = document.getElementById('copy-public-output');
   if (copyPublic) {
-    copyPublic.addEventListener('click', function() {
-      copyText(JSON.stringify(data.public_output || {}, null, 2), copyPublic);
-    });
+    if (!data.public_output) {
+      copyPublic.textContent = 'No output';
+      copyPublic.disabled = true;
+    } else {
+      copyPublic.addEventListener('click', function() {
+        copyText(JSON.stringify(data.public_output || {}, null, 2), copyPublic);
+      });
+    }
   }
 
   var copyRunId = document.getElementById('copy-run-id');
@@ -145,16 +176,26 @@
 
   var copyProof = document.getElementById('copy-proof');
   if (copyProof) {
-    copyProof.addEventListener('click', function() {
-      copyText(JSON.stringify(data.proof || {}, null, 2), copyProof);
-    });
+    if (!data.proof) {
+      copyProof.textContent = 'No proof';
+      copyProof.disabled = true;
+    } else {
+      copyProof.addEventListener('click', function() {
+        copyText(JSON.stringify(data.proof || {}, null, 2), copyProof);
+      });
+    }
   }
 
   var copyInputs = document.getElementById('copy-public-inputs');
   if (copyInputs) {
-    copyInputs.addEventListener('click', function() {
-      var inputs = (data.proof && (data.proof.public_inputs_b64 || data.proof.public_inputs)) || (data.public_output && data.public_output.public_inputs) || '';
-      copyText(typeof inputs === 'string' ? inputs : JSON.stringify(inputs, null, 2), copyInputs);
-    });
+    var inputs = (data.proof && (data.proof.public_inputs_b64 || data.proof.public_inputs)) || (data.public_output && data.public_output.public_inputs) || '';
+    if (!inputs) {
+      copyInputs.textContent = 'No inputs';
+      copyInputs.disabled = true;
+    } else {
+      copyInputs.addEventListener('click', function() {
+        copyText(typeof inputs === 'string' ? inputs : JSON.stringify(inputs, null, 2), copyInputs);
+      });
+    }
   }
 })();

tokens used
18,571
What I changed (short)
- Improved results UX to handle missing public output/proof/inputs with clear empty states and disabled copy actions. Updated `web/static/results.js`.

Tests run
- `go test ./...`

If you want a follow-up, I can apply the same empty-state treatment to the public verify results page for consistency.
