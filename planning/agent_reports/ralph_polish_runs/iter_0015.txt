OpenAI Codex v0.98.0 (research preview)
--------
workdir: /Users/yani/Noema/backend
model: gpt-5.2-codex
provider: openai
approval: never
sandbox: workspace-write [workdir, /tmp, $TMPDIR]
reasoning effort: none
reasoning summaries: auto
session id: 019c3ecf-aadb-7c81-84ff-f4855cd27c6e
--------
user
You are an autonomous coding agent polishing the Noema repository.

Hard rules:
- DO NOT run git commit, git reset, git clean, or anything that modifies git history.
- I will run git commits outside of you.
- Keep changes small: max 3 files per iteration.
- No cosmetic-only edits.
- No new dependencies unless absolutely necessary.
- keep all the same ui functionality, the end user should be able to do the same stuff but the experiance and design should be better.

Goal: continuously improve production quality. continuously improve front end quality and polish.

Iteration:
1) Run: cd backend && go test ./...
2) If failing: fix the smallest root cause (max 3 files), rerun tests until passing.
3) If passing: make ONE meaningful improvement (max 3 files), then rerun tests until passing.

Pick the highest-value improvement:
A) Reliability/correctness: validation, error handling, run persistence, verify robustness
B) Tests: add/strengthen tests for the change you made
C) upgrading the user interface so that it looks better.
D) Maintainability: reduce duplication with tiny refactors
E) UX: wizard/results/verify clarity (small, safe changes)
F) Docs: README/DEPLOYMENT polish
G) Performance: safe wins only

Finish with:
- What you changed (short)
- Tests run (must include go test ./...)
mcp startup: no servers

thinking
**Running tests command**
exec
/bin/zsh -lc 'cd /Users/yani/Noema/backend && go test ./...' in /Users/yani/Noema/backend succeeded in 196ms:
?   	noema/cmd/server	[no test files]
?   	noema/internal/auth	[no test files]
ok  	noema/internal/config	(cached)
?   	noema/internal/crypto	[no test files]
ok  	noema/internal/evaluate	(cached)
?   	noema/internal/gemini	[no test files]
ok  	noema/internal/httputil	(cached)
ok  	noema/internal/session	(cached)
ok  	noema/internal/verify	(cached)
?   	noema/internal/web	[no test files]
ok  	noema/internal/zk	(cached)

thinking
**Planning UI improvement**

Tests pass, so next I’m inspecting the repo to identify frontend files using searches to find a meaningful UI improvement within a small change scope.
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && rg --files -g '*.{go,html,css,js,ts,tsx,jsx}'" in /Users/yani/Noema/backend succeeded in 52ms:
internal/session/session_test.go
internal/session/session.go
internal/evaluate/prompt.go
internal/evaluate/parse.go
internal/evaluate/output.go
internal/evaluate/handler_test.go
internal/evaluate/schema.go
internal/evaluate/dataset.go
internal/evaluate/storage.go
internal/evaluate/storage_test.go
internal/evaluate/images.go
internal/evaluate/handler_integration_test.go
internal/evaluate/cache.go
internal/evaluate/commitment.go
internal/evaluate/policy.go
internal/evaluate/spec.go
internal/evaluate/gemini_eval.go
internal/evaluate/handler.go
internal/web/auth.go
internal/web/upload.go

thinking
**Reviewing styles for UI improvement**
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '1,240p' web/static/styles.css" in /Users/yani/Noema/backend succeeded in 52ms:
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&family=Space+Grotesk:wght@400;500;600&display=swap');

:root {
  --bg: #05060a;
  --bg-card: rgba(9, 12, 18, 0.9);
  --text: #f4f6fb;
  --text-muted: #9aa3b2;
  --accent: #45d4ff;
  --accent-strong: #2c7bff;
  --accent-glow: rgba(69, 212, 255, 0.35);
  --border: rgba(255, 255, 255, 0.08);
  --border-strong: rgba(69, 212, 255, 0.4);
  --error: #f87171;
  --success: #22c55e;
  --warning: #fbbf24;
  --shadow: 0 24px 48px rgba(0, 0, 0, 0.45);
}

*,
*::before,
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '240,520p' web/static/styles.css" in /Users/yani/Noema/backend succeeded in 51ms:

.label {
  font-size: 0.9rem;
  font-weight: 500;
  color: var(--text);
}

.form-hint {
  margin: 0;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.input {
  width: 100%;
  padding: 0.75rem 1rem;
  font-size: 1rem;
  color: var(--text);
  background: rgba(0, 0, 0, 0.35);
  border: 1px solid var(--border);
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '520,1040p' web/static/styles.css" in /Users/yani/Noema/backend succeeded in 52ms:
  min-width: 0;
}

.upload-file-name {
  font-weight: 500;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.upload-file-size {
  font-size: 0.82rem;
  color: var(--text-muted);
}

.upload-hint {
  margin-top: 0.65rem;
}

/* ===== Wizard ===== */
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '1040,1560p' web/static/styles.css" in /Users/yani/Noema/backend succeeded in 52ms:
    flex-direction: column;
    align-items: flex-start;
  }
}

@media (max-width: 720px) {
  .card {
    padding: 2rem 1.6rem;
  }

  .stepper {
    flex-direction: column;
    align-items: flex-start;
  }

  .stepper-sep {
    width: 100%;
  }

  .constraint-row {

thinking
**Exploring subtle UX improvements**

I'm considering meaningful UI tweaks like better focus/hover states for cards, showing filenames in the upload zone, adding loading indicators on buttons, and improving skip links or error states, focusing on both HTML/CSS and relevant JS files like upload.js and wizard.js.
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '1,240p' web/static/upload.js" in /Users/yani/Noema/backend succeeded in 52ms:
(function() {
  var input = document.getElementById('file-input');
  var zone = document.getElementById('drop-zone');
  var zoneText = document.getElementById('zone-text');
  var submitBtn = document.getElementById('submit-btn');
  var details = document.getElementById('upload-details');
  var fileName = document.getElementById('upload-file-name');
  var fileSize = document.getElementById('upload-file-size');
  var clearBtn = document.getElementById('clear-file');
  var clientError = document.getElementById('upload-client-error');
  var maxBytes = parseInt(input.dataset.maxBytes || '', 10);
  var maxBytesLabel = input.dataset.maxBytesLabel || '';

  function formatBytes(bytes) {
    if (!bytes && bytes !== 0) return '';
    if (bytes < 1024) return bytes + ' B';
    var kb = bytes / 1024;
    if (kb < 1024) return kb.toFixed(1) + ' KB';
    var mb = kb / 1024;
    if (mb < 1024) return mb.toFixed(1) + ' MB';

thinking
**Considering UX improvements**

I'm evaluating disabling the submit button until inputs are valid and possibly adding an accessible focus trap, planning to check the wizard.js file for related user experience patterns.
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '1,260p' web/static/wizard.js" in /Users/yani/Noema/backend succeeded in 52ms:
(function() {
  var PRESET_CONSTRAINTS = window.NOEMA_PRESET_CONSTRAINTS || [];
  var currentStep = 1;
  var maxStep = 3;
  var customConstraintCount = 0;
  var maxCustomConstraints = 5;
  var datasetSource = 'file';
  var MAX_DATASET_BYTES = 50 * 1024 * 1024;
  var MAX_IMAGE_BYTES = 5 * 1024 * 1024;
  var MAX_IMAGE_COUNT = 10;

  function stepEl(n) { return document.querySelector('.stepper-step[data-step="' + n + '"]'); }
  function paneEl(n) { return document.getElementById('pane-' + n); }

  function titleCase(str) {
    return str
      .replace(/_/g, ' ')
      .replace(/\b\w/g, function(m) { return m.toUpperCase(); });
  }

exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '260,640p' web/static/wizard.js" in /Users/yani/Noema/backend succeeded in 51ms:

    var list = document.getElementById('custom-constraints-list');
    list.appendChild(div);

    div.querySelectorAll('.custom-title, .custom-desc, .custom-enabled').forEach(function(el) {
      el.addEventListener('input', function() { validateCustomConstraint(div); });
      el.addEventListener('change', function() { validateCustomConstraint(div); updateConstraintsCount(); });
    });

    div.querySelector('.remove-custom').addEventListener('click', function() {
      div.remove();
      customConstraintCount--;
      updateCustomLimitHint();
      updateConstraintsCount();
    });

    validateCustomConstraint(div);
    updateConstraintsCount();
  }


thinking
**Considering UI improvements**

I'm noting possible UI enhancements like preventing step skipping in the wizard, adding smooth scrolling, showing the selected dataset in the review summary rather than just the filename, and displaying dataset size. I'll also check the results page for potential improvements.
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '1,260p' web/static/results.js" in /Users/yani/Noema/backend succeeded in 52ms:
(function() {
  var runId = document.body.getAttribute('data-run-id') || document.getElementById('results-run-id').textContent.replace('Run ID: ', '').trim();
  var key = 'noema_run_' + runId;
  var data;
  try {
    var raw = localStorage.getItem(key);
    data = raw ? JSON.parse(raw) : null;
  } catch (e) {
    data = null;
  }

  function copyText(text, button) {
    if (!text) return;
    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(text).then(function() {
        if (button) showCopied(button);
      });
    } else {
      var temp = document.createElement('textarea');
      temp.value = text;

thinking
**Considering error handling for missing elements**

Noticing that some elements like the results-loading indicator might be missing, so planning to verify the presence of templates and app_results before accessing them to avoid errors.
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '1,240p' web/templates/app_results.html" in /Users/yani/Noema/backend succeeded in 52ms:
{{define "app_results"}}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Noema — Results</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body data-run-id="{{.RunID}}">
  {{template "header_app" .}}

  <main class="main main-results">
    {{template "orb" .}}
    <div class="card results-card">
      <div class="results-header">
        <div>
          <h1 class="card-title">Evaluation results</h1>
          <div class="results-runline">
            <p class="text-muted" id="results-run-id">Run ID: <span class="results-run-id">{{.RunID}}</span></p>

thinking
**Considering UX improvements**

I'm reviewing the wizard page to potentially enhance the image selection summary and validation, balancing the requirement to keep the same UI functionality while improving user experience. Next, I'll inspect the wizard template and related HTML/JS to assess feasibility.
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '1,260p' web/templates/app.html" in /Users/yani/Noema/backend succeeded in 51ms:
{{define "app"}}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Noema — Dashboard</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
  {{template "header_app" .}}

  <main class="main main-dashboard">
    {{template "orb" .}}
    <div class="dashboard-content">
      <section class="card dashboard-hero">
        <div class="card-kicker">Dashboard</div>
        <h1 class="card-title">Evaluations</h1>
        <p class="card-text">Run policy evaluations on your datasets and publish verifiable results.</p>
        <div class="form-actions">
exec
/bin/zsh -lc "cd /Users/yani/Noema/backend && sed -n '1,320p' web/templates/app_new.html" in /Users/yani/Noema/backend succeeded in 52ms:
{{define "app_new"}}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Noema — New Evaluation</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
  {{template "header_app" .}}

  <main class="main main-wizard">
    {{template "orb" .}}
    <div class="wizard-card card">
      <h1 class="card-title">New Evaluation</h1>
      <div class="stepper" role="tablist">
        <button type="button" class="stepper-step active" data-step="1" aria-selected="true">Dataset</button>
        <span class="stepper-sep"></span>
        <button type="button" class="stepper-step" data-step="2">Policy</button>

thinking
**Planning UI improvements**

Considering adding image file sizes and warnings in the dataset status to enhance UX with minimal changes, plus exploring client-side validation and a styled review summary if the related CSS exists.
exec
/bin/zsh -lc 'cd /Users/yani/Noema/backend && rg "review-summary" -n' in /Users/yani/Noema/backend succeeded in 52ms:
web/templates/app_new.html:90:          <div id="review-summary" class="review-summary"></div>
web/static/wizard.js:381:    document.getElementById('review-summary').innerHTML =


thinking
**Planning UI review summary improvements**

I'm planning to enhance the review summary UI by rendering it as a styled table-like grid with labeled rows showing dataset source, size, image count, and warnings for missing data, updating both wizard.js and styles.css without changing backend logic.
thinking
**Implementing styled review summary grid**

I'm adding CSS for a grid-based review summary with labeled rows and values, updating the summary's innerHTML in wizard.js to include dataset info, image counts, and option states, while reusing existing format helpers for sizes and counts.
file update
M /Users/yani/Noema/backend/web/static/wizard.js
@@ -376,2 +376,4 @@
     var datasetSource = datasetFile ? (datasetFile.name || datasetSourceLabel) : '—';
+    var datasetSize = datasetFile && datasetFile.size ? formatBytes(datasetFile.size) : '';
+    var datasetLine = datasetSource + (datasetSize ? (' · ' + datasetSize) : '');
     var spec = buildSpec();
@@ -379,8 +381,13 @@
       spec.custom_constraints.filter(function(c) { return c.enabled; }).length;
+    var imagesInput = document.getElementById('images-file');
+    var images = imagesInput && imagesInput.files ? Array.prototype.slice.call(imagesInput.files) : [];
+    var imageTotal = images.reduce(function(sum, file) { return sum + file.size; }, 0);
+    var imagesLine = images.length > 0 ? (images.length + ' files · ' + formatBytes(imageTotal)) : 'None';
 
     document.getElementById('review-summary').innerHTML =
-      '<p><strong>Evaluation name:</strong> ' + escapeHtml(name) + '</p>' +
-      '<p><strong>Dataset:</strong> ' + escapeHtml(datasetSource) + '</p>' +
-      '<p><strong>Reveal:</strong> max_severity=' + spec.policy.reveal.max_severity + ', commitment=' + spec.policy.reveal.commitment + '</p>' +
-      '<p><strong>Constraints enabled:</strong> ' + enabledCount + '</p>';
+      '<div class="review-item"><span class="review-label">Evaluation</span><span class="review-value">' + escapeHtml(name) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Dataset</span><span class="review-value">' + escapeHtml(datasetLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Images</span><span class="review-value">' + escapeHtml(imagesLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Reveal</span><span class="review-value">Max severity: ' + (spec.policy.reveal.max_severity ? 'Yes' : 'No') + ' · Commitment: ' + (spec.policy.reveal.commitment ? 'Yes' : 'No') + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Constraints</span><span class="review-value">' + enabledCount + ' enabled</span></div>';
   }
apply_patch(auto_approved=true) exited 0 in 27ms:
Success. Updated the following files:
M /Users/yani/Noema/backend/web/static/wizard.js
file update:
diff --git a/backend/web/static/wizard.js b/backend/web/static/wizard.js
index caefda760a8b6b5d547b62b60998c95a16c140ee..3987fdb525a0a6f065e39a2784f16d5342967a1c
--- a/backend/web/static/wizard.js
+++ b/backend/web/static/wizard.js
@@ -374,15 +374,22 @@
     var datasetFile = getDatasetFile();
     var datasetSourceLabel = datasetSource === 'file' ? 'Uploaded file' : 'Pasted JSON';
     var datasetSource = datasetFile ? (datasetFile.name || datasetSourceLabel) : '—';
+    var datasetSize = datasetFile && datasetFile.size ? formatBytes(datasetFile.size) : '';
+    var datasetLine = datasetSource + (datasetSize ? (' · ' + datasetSize) : '');
     var spec = buildSpec();
     var enabledCount = spec.constraints.filter(function(c) { return c.enabled; }).length +
       spec.custom_constraints.filter(function(c) { return c.enabled; }).length;
+    var imagesInput = document.getElementById('images-file');
+    var images = imagesInput && imagesInput.files ? Array.prototype.slice.call(imagesInput.files) : [];
+    var imageTotal = images.reduce(function(sum, file) { return sum + file.size; }, 0);
+    var imagesLine = images.length > 0 ? (images.length + ' files · ' + formatBytes(imageTotal)) : 'None';
 
     document.getElementById('review-summary').innerHTML =
-      '<p><strong>Evaluation name:</strong> ' + escapeHtml(name) + '</p>' +
-      '<p><strong>Dataset:</strong> ' + escapeHtml(datasetSource) + '</p>' +
-      '<p><strong>Reveal:</strong> max_severity=' + spec.policy.reveal.max_severity + ', commitment=' + spec.policy.reveal.commitment + '</p>' +
-      '<p><strong>Constraints enabled:</strong> ' + enabledCount + '</p>';
+      '<div class="review-item"><span class="review-label">Evaluation</span><span class="review-value">' + escapeHtml(name) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Dataset</span><span class="review-value">' + escapeHtml(datasetLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Images</span><span class="review-value">' + escapeHtml(imagesLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Reveal</span><span class="review-value">Max severity: ' + (spec.policy.reveal.max_severity ? 'Yes' : 'No') + ' · Commitment: ' + (spec.policy.reveal.commitment ? 'Yes' : 'No') + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Constraints</span><span class="review-value">' + enabledCount + ' enabled</span></div>';
   }
 
   document.querySelectorAll('.segmented-btn').forEach(function(btn) {

file update:
diff --git a/backend/web/static/wizard.js b/backend/web/static/wizard.js
index caefda760a8b6b5d547b62b60998c95a16c140ee..3987fdb525a0a6f065e39a2784f16d5342967a1c
--- a/backend/web/static/wizard.js
+++ b/backend/web/static/wizard.js
@@ -374,15 +374,22 @@
     var datasetFile = getDatasetFile();
     var datasetSourceLabel = datasetSource === 'file' ? 'Uploaded file' : 'Pasted JSON';
     var datasetSource = datasetFile ? (datasetFile.name || datasetSourceLabel) : '—';
+    var datasetSize = datasetFile && datasetFile.size ? formatBytes(datasetFile.size) : '';
+    var datasetLine = datasetSource + (datasetSize ? (' · ' + datasetSize) : '');
     var spec = buildSpec();
     var enabledCount = spec.constraints.filter(function(c) { return c.enabled; }).length +
       spec.custom_constraints.filter(function(c) { return c.enabled; }).length;
+    var imagesInput = document.getElementById('images-file');
+    var images = imagesInput && imagesInput.files ? Array.prototype.slice.call(imagesInput.files) : [];
+    var imageTotal = images.reduce(function(sum, file) { return sum + file.size; }, 0);
+    var imagesLine = images.length > 0 ? (images.length + ' files · ' + formatBytes(imageTotal)) : 'None';
 
     document.getElementById('review-summary').innerHTML =
-      '<p><strong>Evaluation name:</strong> ' + escapeHtml(name) + '</p>' +
-      '<p><strong>Dataset:</strong> ' + escapeHtml(datasetSource) + '</p>' +
-      '<p><strong>Reveal:</strong> max_severity=' + spec.policy.reveal.max_severity + ', commitment=' + spec.policy.reveal.commitment + '</p>' +
-      '<p><strong>Constraints enabled:</strong> ' + enabledCount + '</p>';
+      '<div class="review-item"><span class="review-label">Evaluation</span><span class="review-value">' + escapeHtml(name) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Dataset</span><span class="review-value">' + escapeHtml(datasetLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Images</span><span class="review-value">' + escapeHtml(imagesLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Reveal</span><span class="review-value">Max severity: ' + (spec.policy.reveal.max_severity ? 'Yes' : 'No') + ' · Commitment: ' + (spec.policy.reveal.commitment ? 'Yes' : 'No') + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Constraints</span><span class="review-value">' + enabledCount + ' enabled</span></div>';
   }
 
   document.querySelectorAll('.segmented-btn').forEach(function(btn) {


thinking
**Adding CSS for review summary**
file update
M /Users/yani/Noema/backend/web/static/styles.css
@@ -814,2 +814,34 @@
 
+.review-summary {
+  display: grid;
+  gap: 0.75rem;
+  padding: 1.1rem 1.2rem;
+  border-radius: 14px;
+  border: 1px solid var(--border);
+  background: rgba(0, 0, 0, 0.3);
+  margin-bottom: 1rem;
+}
+
+.review-item {
+  display: flex;
+  justify-content: space-between;
+  align-items: flex-start;
+  gap: 1rem;
+  font-size: 0.95rem;
+}
+
+.review-label {
+  text-transform: uppercase;
+  letter-spacing: 0.16em;
+  font-size: 0.7rem;
+  color: var(--text-muted);
+  flex: 0 0 auto;
+}
+
+.review-value {
+  color: var(--text);
+  font-weight: 500;
+  text-align: right;
+}
+
 /* ===== Results ===== */
@@ -1072,2 +1104,11 @@
 
+  .review-item {
+    flex-direction: column;
+    align-items: flex-start;
+  }
+
+  .review-value {
+    text-align: left;
+  }
+
   .results-pre,
apply_patch(auto_approved=true) exited 0 in 38ms:
Success. Updated the following files:
M /Users/yani/Noema/backend/web/static/styles.css
file update:
diff --git a/backend/web/static/styles.css b/backend/web/static/styles.css
index a617332ab3bfd84a62c185d75806b800d1c993cf..4020d9833dea3c53bf578b01a4306ce1d9609a07
--- a/backend/web/static/styles.css
+++ b/backend/web/static/styles.css
@@ -812,6 +812,38 @@
   margin-top: 1rem;
 }
 
+.review-summary {
+  display: grid;
+  gap: 0.75rem;
+  padding: 1.1rem 1.2rem;
+  border-radius: 14px;
+  border: 1px solid var(--border);
+  background: rgba(0, 0, 0, 0.3);
+  margin-bottom: 1rem;
+}
+
+.review-item {
+  display: flex;
+  justify-content: space-between;
+  align-items: flex-start;
+  gap: 1rem;
+  font-size: 0.95rem;
+}
+
+.review-label {
+  text-transform: uppercase;
+  letter-spacing: 0.16em;
+  font-size: 0.7rem;
+  color: var(--text-muted);
+  flex: 0 0 auto;
+}
+
+.review-value {
+  color: var(--text);
+  font-weight: 500;
+  text-align: right;
+}
+
 /* ===== Results ===== */
 .main-results {
   align-items: flex-start;
@@ -1070,6 +1102,15 @@
     align-items: flex-start;
   }
 
+  .review-item {
+    flex-direction: column;
+    align-items: flex-start;
+  }
+
+  .review-value {
+    text-align: left;
+  }
+
   .results-pre,
   .dataset-preview {
     white-space: pre-wrap;
diff --git a/backend/web/static/wizard.js b/backend/web/static/wizard.js
index caefda760a8b6b5d547b62b60998c95a16c140ee..3987fdb525a0a6f065e39a2784f16d5342967a1c
--- a/backend/web/static/wizard.js
+++ b/backend/web/static/wizard.js
@@ -374,15 +374,22 @@
     var datasetFile = getDatasetFile();
     var datasetSourceLabel = datasetSource === 'file' ? 'Uploaded file' : 'Pasted JSON';
     var datasetSource = datasetFile ? (datasetFile.name || datasetSourceLabel) : '—';
+    var datasetSize = datasetFile && datasetFile.size ? formatBytes(datasetFile.size) : '';
+    var datasetLine = datasetSource + (datasetSize ? (' · ' + datasetSize) : '');
     var spec = buildSpec();
     var enabledCount = spec.constraints.filter(function(c) { return c.enabled; }).length +
       spec.custom_constraints.filter(function(c) { return c.enabled; }).length;
+    var imagesInput = document.getElementById('images-file');
+    var images = imagesInput && imagesInput.files ? Array.prototype.slice.call(imagesInput.files) : [];
+    var imageTotal = images.reduce(function(sum, file) { return sum + file.size; }, 0);
+    var imagesLine = images.length > 0 ? (images.length + ' files · ' + formatBytes(imageTotal)) : 'None';
 
     document.getElementById('review-summary').innerHTML =
-      '<p><strong>Evaluation name:</strong> ' + escapeHtml(name) + '</p>' +
-      '<p><strong>Dataset:</strong> ' + escapeHtml(datasetSource) + '</p>' +
-      '<p><strong>Reveal:</strong> max_severity=' + spec.policy.reveal.max_severity + ', commitment=' + spec.policy.reveal.commitment + '</p>' +
-      '<p><strong>Constraints enabled:</strong> ' + enabledCount + '</p>';
+      '<div class="review-item"><span class="review-label">Evaluation</span><span class="review-value">' + escapeHtml(name) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Dataset</span><span class="review-value">' + escapeHtml(datasetLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Images</span><span class="review-value">' + escapeHtml(imagesLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Reveal</span><span class="review-value">Max severity: ' + (spec.policy.reveal.max_severity ? 'Yes' : 'No') + ' · Commitment: ' + (spec.policy.reveal.commitment ? 'Yes' : 'No') + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Constraints</span><span class="review-value">' + enabledCount + ' enabled</span></div>';
   }
 
   document.querySelectorAll('.segmented-btn').forEach(function(btn) {

file update:
diff --git a/backend/web/static/styles.css b/backend/web/static/styles.css
index a617332ab3bfd84a62c185d75806b800d1c993cf..4020d9833dea3c53bf578b01a4306ce1d9609a07
--- a/backend/web/static/styles.css
+++ b/backend/web/static/styles.css
@@ -812,6 +812,38 @@
   margin-top: 1rem;
 }
 
+.review-summary {
+  display: grid;
+  gap: 0.75rem;
+  padding: 1.1rem 1.2rem;
+  border-radius: 14px;
+  border: 1px solid var(--border);
+  background: rgba(0, 0, 0, 0.3);
+  margin-bottom: 1rem;
+}
+
+.review-item {
+  display: flex;
+  justify-content: space-between;
+  align-items: flex-start;
+  gap: 1rem;
+  font-size: 0.95rem;
+}
+
+.review-label {
+  text-transform: uppercase;
+  letter-spacing: 0.16em;
+  font-size: 0.7rem;
+  color: var(--text-muted);
+  flex: 0 0 auto;
+}
+
+.review-value {
+  color: var(--text);
+  font-weight: 500;
+  text-align: right;
+}
+
 /* ===== Results ===== */
 .main-results {
   align-items: flex-start;
@@ -1070,6 +1102,15 @@
     align-items: flex-start;
   }
 
+  .review-item {
+    flex-direction: column;
+    align-items: flex-start;
+  }
+
+  .review-value {
+    text-align: left;
+  }
+
   .results-pre,
   .dataset-preview {
     white-space: pre-wrap;
diff --git a/backend/web/static/wizard.js b/backend/web/static/wizard.js
index caefda760a8b6b5d547b62b60998c95a16c140ee..3987fdb525a0a6f065e39a2784f16d5342967a1c
--- a/backend/web/static/wizard.js
+++ b/backend/web/static/wizard.js
@@ -374,15 +374,22 @@
     var datasetFile = getDatasetFile();
     var datasetSourceLabel = datasetSource === 'file' ? 'Uploaded file' : 'Pasted JSON';
     var datasetSource = datasetFile ? (datasetFile.name || datasetSourceLabel) : '—';
+    var datasetSize = datasetFile && datasetFile.size ? formatBytes(datasetFile.size) : '';
+    var datasetLine = datasetSource + (datasetSize ? (' · ' + datasetSize) : '');
     var spec = buildSpec();
     var enabledCount = spec.constraints.filter(function(c) { return c.enabled; }).length +
       spec.custom_constraints.filter(function(c) { return c.enabled; }).length;
+    var imagesInput = document.getElementById('images-file');
+    var images = imagesInput && imagesInput.files ? Array.prototype.slice.call(imagesInput.files) : [];
+    var imageTotal = images.reduce(function(sum, file) { return sum + file.size; }, 0);
+    var imagesLine = images.length > 0 ? (images.length + ' files · ' + formatBytes(imageTotal)) : 'None';
 
     document.getElementById('review-summary').innerHTML =
-      '<p><strong>Evaluation name:</strong> ' + escapeHtml(name) + '</p>' +
-      '<p><strong>Dataset:</strong> ' + escapeHtml(datasetSource) + '</p>' +
-      '<p><strong>Reveal:</strong> max_severity=' + spec.policy.reveal.max_severity + ', commitment=' + spec.policy.reveal.commitment + '</p>' +
-      '<p><strong>Constraints enabled:</strong> ' + enabledCount + '</p>';
+      '<div class="review-item"><span class="review-label">Evaluation</span><span class="review-value">' + escapeHtml(name) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Dataset</span><span class="review-value">' + escapeHtml(datasetLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Images</span><span class="review-value">' + escapeHtml(imagesLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Reveal</span><span class="review-value">Max severity: ' + (spec.policy.reveal.max_severity ? 'Yes' : 'No') + ' · Commitment: ' + (spec.policy.reveal.commitment ? 'Yes' : 'No') + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Constraints</span><span class="review-value">' + enabledCount + ' enabled</span></div>';
   }
 
   document.querySelectorAll('.segmented-btn').forEach(function(btn) {


thinking
**Planning test rerun**
exec
/bin/zsh -lc 'cd /Users/yani/Noema/backend && go test ./...' in /Users/yani/Noema/backend succeeded in 383ms:
?   	noema/cmd/server	[no test files]
?   	noema/internal/auth	[no test files]
ok  	noema/internal/config	(cached)
?   	noema/internal/crypto	[no test files]
ok  	noema/internal/evaluate	(cached)
?   	noema/internal/gemini	[no test files]
ok  	noema/internal/httputil	(cached)
ok  	noema/internal/session	(cached)
ok  	noema/internal/verify	(cached)
?   	noema/internal/web	[no test files]
ok  	noema/internal/zk	(cached)
file update:
diff --git a/backend/web/static/styles.css b/backend/web/static/styles.css
index a617332ab3bfd84a62c185d75806b800d1c993cf..4020d9833dea3c53bf578b01a4306ce1d9609a07
--- a/backend/web/static/styles.css
+++ b/backend/web/static/styles.css
@@ -812,6 +812,38 @@
   margin-top: 1rem;
 }
 
+.review-summary {
+  display: grid;
+  gap: 0.75rem;
+  padding: 1.1rem 1.2rem;
+  border-radius: 14px;
+  border: 1px solid var(--border);
+  background: rgba(0, 0, 0, 0.3);
+  margin-bottom: 1rem;
+}
+
+.review-item {
+  display: flex;
+  justify-content: space-between;
+  align-items: flex-start;
+  gap: 1rem;
+  font-size: 0.95rem;
+}
+
+.review-label {
+  text-transform: uppercase;
+  letter-spacing: 0.16em;
+  font-size: 0.7rem;
+  color: var(--text-muted);
+  flex: 0 0 auto;
+}
+
+.review-value {
+  color: var(--text);
+  font-weight: 500;
+  text-align: right;
+}
+
 /* ===== Results ===== */
 .main-results {
   align-items: flex-start;
@@ -1070,6 +1102,15 @@
     align-items: flex-start;
   }
 
+  .review-item {
+    flex-direction: column;
+    align-items: flex-start;
+  }
+
+  .review-value {
+    text-align: left;
+  }
+
   .results-pre,
   .dataset-preview {
     white-space: pre-wrap;
diff --git a/backend/web/static/wizard.js b/backend/web/static/wizard.js
index caefda760a8b6b5d547b62b60998c95a16c140ee..3987fdb525a0a6f065e39a2784f16d5342967a1c
--- a/backend/web/static/wizard.js
+++ b/backend/web/static/wizard.js
@@ -374,15 +374,22 @@
     var datasetFile = getDatasetFile();
     var datasetSourceLabel = datasetSource === 'file' ? 'Uploaded file' : 'Pasted JSON';
     var datasetSource = datasetFile ? (datasetFile.name || datasetSourceLabel) : '—';
+    var datasetSize = datasetFile && datasetFile.size ? formatBytes(datasetFile.size) : '';
+    var datasetLine = datasetSource + (datasetSize ? (' · ' + datasetSize) : '');
     var spec = buildSpec();
     var enabledCount = spec.constraints.filter(function(c) { return c.enabled; }).length +
       spec.custom_constraints.filter(function(c) { return c.enabled; }).length;
+    var imagesInput = document.getElementById('images-file');
+    var images = imagesInput && imagesInput.files ? Array.prototype.slice.call(imagesInput.files) : [];
+    var imageTotal = images.reduce(function(sum, file) { return sum + file.size; }, 0);
+    var imagesLine = images.length > 0 ? (images.length + ' files · ' + formatBytes(imageTotal)) : 'None';
 
     document.getElementById('review-summary').innerHTML =
-      '<p><strong>Evaluation name:</strong> ' + escapeHtml(name) + '</p>' +
-      '<p><strong>Dataset:</strong> ' + escapeHtml(datasetSource) + '</p>' +
-      '<p><strong>Reveal:</strong> max_severity=' + spec.policy.reveal.max_severity + ', commitment=' + spec.policy.reveal.commitment + '</p>' +
-      '<p><strong>Constraints enabled:</strong> ' + enabledCount + '</p>';
+      '<div class="review-item"><span class="review-label">Evaluation</span><span class="review-value">' + escapeHtml(name) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Dataset</span><span class="review-value">' + escapeHtml(datasetLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Images</span><span class="review-value">' + escapeHtml(imagesLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Reveal</span><span class="review-value">Max severity: ' + (spec.policy.reveal.max_severity ? 'Yes' : 'No') + ' · Commitment: ' + (spec.policy.reveal.commitment ? 'Yes' : 'No') + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Constraints</span><span class="review-value">' + enabledCount + ' enabled</span></div>';
   }
 
   document.querySelectorAll('.segmented-btn').forEach(function(btn) {

codex
What you changed (short)
- Improved the Review & Run summary to show dataset size, image counts/size, and clearer reveal/constraint info, with a structured summary layout for easier scanning. Updated `web/static/wizard.js` and `web/static/styles.css`.

Tests run
- `go test ./...`

If you want, I can tackle the next highest‑value UI polish or a small reliability/validation improvement.
file update:
diff --git a/backend/web/static/styles.css b/backend/web/static/styles.css
index a617332ab3bfd84a62c185d75806b800d1c993cf..4020d9833dea3c53bf578b01a4306ce1d9609a07
--- a/backend/web/static/styles.css
+++ b/backend/web/static/styles.css
@@ -812,6 +812,38 @@
   margin-top: 1rem;
 }
 
+.review-summary {
+  display: grid;
+  gap: 0.75rem;
+  padding: 1.1rem 1.2rem;
+  border-radius: 14px;
+  border: 1px solid var(--border);
+  background: rgba(0, 0, 0, 0.3);
+  margin-bottom: 1rem;
+}
+
+.review-item {
+  display: flex;
+  justify-content: space-between;
+  align-items: flex-start;
+  gap: 1rem;
+  font-size: 0.95rem;
+}
+
+.review-label {
+  text-transform: uppercase;
+  letter-spacing: 0.16em;
+  font-size: 0.7rem;
+  color: var(--text-muted);
+  flex: 0 0 auto;
+}
+
+.review-value {
+  color: var(--text);
+  font-weight: 500;
+  text-align: right;
+}
+
 /* ===== Results ===== */
 .main-results {
   align-items: flex-start;
@@ -1070,6 +1102,15 @@
     align-items: flex-start;
   }
 
+  .review-item {
+    flex-direction: column;
+    align-items: flex-start;
+  }
+
+  .review-value {
+    text-align: left;
+  }
+
   .results-pre,
   .dataset-preview {
     white-space: pre-wrap;
diff --git a/backend/web/static/wizard.js b/backend/web/static/wizard.js
index caefda760a8b6b5d547b62b60998c95a16c140ee..3987fdb525a0a6f065e39a2784f16d5342967a1c
--- a/backend/web/static/wizard.js
+++ b/backend/web/static/wizard.js
@@ -374,15 +374,22 @@
     var datasetFile = getDatasetFile();
     var datasetSourceLabel = datasetSource === 'file' ? 'Uploaded file' : 'Pasted JSON';
     var datasetSource = datasetFile ? (datasetFile.name || datasetSourceLabel) : '—';
+    var datasetSize = datasetFile && datasetFile.size ? formatBytes(datasetFile.size) : '';
+    var datasetLine = datasetSource + (datasetSize ? (' · ' + datasetSize) : '');
     var spec = buildSpec();
     var enabledCount = spec.constraints.filter(function(c) { return c.enabled; }).length +
       spec.custom_constraints.filter(function(c) { return c.enabled; }).length;
+    var imagesInput = document.getElementById('images-file');
+    var images = imagesInput && imagesInput.files ? Array.prototype.slice.call(imagesInput.files) : [];
+    var imageTotal = images.reduce(function(sum, file) { return sum + file.size; }, 0);
+    var imagesLine = images.length > 0 ? (images.length + ' files · ' + formatBytes(imageTotal)) : 'None';
 
     document.getElementById('review-summary').innerHTML =
-      '<p><strong>Evaluation name:</strong> ' + escapeHtml(name) + '</p>' +
-      '<p><strong>Dataset:</strong> ' + escapeHtml(datasetSource) + '</p>' +
-      '<p><strong>Reveal:</strong> max_severity=' + spec.policy.reveal.max_severity + ', commitment=' + spec.policy.reveal.commitment + '</p>' +
-      '<p><strong>Constraints enabled:</strong> ' + enabledCount + '</p>';
+      '<div class="review-item"><span class="review-label">Evaluation</span><span class="review-value">' + escapeHtml(name) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Dataset</span><span class="review-value">' + escapeHtml(datasetLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Images</span><span class="review-value">' + escapeHtml(imagesLine) + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Reveal</span><span class="review-value">Max severity: ' + (spec.policy.reveal.max_severity ? 'Yes' : 'No') + ' · Commitment: ' + (spec.policy.reveal.commitment ? 'Yes' : 'No') + '</span></div>' +
+      '<div class="review-item"><span class="review-label">Constraints</span><span class="review-value">' + enabledCount + ' enabled</span></div>';
   }
 
   document.querySelectorAll('.segmented-btn').forEach(function(btn) {

tokens used
48,588
What you changed (short)
- Improved the Review & Run summary to show dataset size, image counts/size, and clearer reveal/constraint info, with a structured summary layout for easier scanning. Updated `web/static/wizard.js` and `web/static/styles.css`.

Tests run
- `go test ./...`

If you want, I can tackle the next highest‑value UI polish or a small reliability/validation improvement.
